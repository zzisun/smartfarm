{% extends 'base_noti.html' %}
{% load static %}
{% block content %}
<body>
    <!-- dash_wrap -->
    <div class="dash_wrap footer_on">
        <!-- top_box -->
        <div class="top_box">
            <form action="">
                <ul>
                    <li>
                        <p class="input_tit">Farm Name</p>
                        <div class="input_box">
<<<<<<< HEAD
                            <input type="text" class="" value={{ farm.farm_name }}>
=======
                            <input type="text" class="" value={{farm_info_inst.farm_name}} readonly>
>>>>>>> origin/device
                        </div>
                    </li>
                    <li>
                        <p class="input_tit">Crop Group</p>
                        <div class="input_box">
<<<<<<< HEAD
                            <input type="text" value={{ plant.crop_name }}>
=======
                            <input type="text" value={{plant_info_inst.crop_group}} readonly>
>>>>>>> origin/device
                        </div>
                    </li>
                    <li>
                        <p class="input_tit">Farm Capacity</p>
                        <div class="input_box plants_box">
<<<<<<< HEAD
                            <input type="text" value="{{ farm.farm_capacity }}">
=======
                            <input type="text" value={{farm_info_inst.farm_capacity}} readonly>
>>>>>>> origin/device
                            <span class="">Plants</span>
                        </div>
                    </li>
                </ul>
            </form>
        </div>
        <!-- //top_box -->
        <div class="cont">
            <!-- tab_ul -->
            <ul class="tab_ul clear">
                <li class="on">
                    <a href="#" class="txt_medium">Status</a>
                </li>
                <li>
                    <a href="#" class="txt_medium">History</a>
                </li>
                <li>
                    <a href="device_control/{{farm.device_info_id}}/{{farm.id}}" class="txt_medium">Control</a>
                </li>
            </ul>
            <!-- //tab_ul -->
            <div class="inner_box tank_box">
                <h2 class="title bold">Reservoir Tank</h2>
                <div class="">
                    <div class="left_graph"></div>
                    <div class="right_txt">
                        <p class="txt_medium"><img src={% static "images/img_warter.png" %} alt="warter image">Water Level</p>
                        <ul class="clear tp8">
                            <li class="fl rm20">Temp {{ grow_param.temparature }}˚</li>
                            <li class="fl rm20">PH {{ grow_param.ph }}</li>
                            <li class="fl rm20">EC {{ grow_param.ec }}</li>
                            <li class="fl">DO 7</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="inner_box">
                <h2 class="title bold">Air</h2>
                <ul class="air_ul">
                    <li>
                        <h5 class="">Temp</h5>
                        <p class="">{{ grow_param.temparature }}˚</p>
                    </li>
                    <li>
                        <h5 class="">Humidity</h5>
                        <p class="">{{ grow_param.humidity }}%</p>
                    </li>
                    <li>
                        <h5 class="">CO2</h5>
                        <p class="">400</p>
                    </li>
                </ul>
            </div>
            <div class="inner_box">
                <h2 class="title bold">Nutrient Level - Fertigation Device</h2>
                <ul class="level_ul clear">
                    <li class="fl">
                        <h5 class="bold txt_gray88 txt_16">95%</h5>
                        <div class="bar_box">
                            <div class="bar" style="height: 95%;"></div>
                        </div>
                        <p class="txt_gray88">A</p>
                    </li>
                    <li class="fl">
                        <h5 class="bold txt_gray88 txt_16">85%</h5>
                        <div class="bar_box">
                            <div class="bar" style="height: 85%;"></div>
                        </div>
                        <p class="txt_gray88">B</p>
                    </li>
                    <li class="fl">
                        <h5 class="bold txt_gray88 txt_16">35%</h5>
                        <div class="bar_box">
                            <div class="bar" style="height: 35%;"></div>
                        </div>
                        <p class="txt_gray88">C</p>
                    </li>
                    <li class="fl">
                        <h5 class="bold txt_gray88 txt_16">35%</h5>
                        <div class="bar_box">
                            <div class="bar" style="height: 35%;"></div>
                        </div>
                        <p class="txt_gray88">D</p>
                    </li>
                </ul>
            </div>
            <div class="inner_box progress_box">
                <h2 class="title bold">Progress</h2>
                <div class="ul_box">
                    <ul class="top_ul" id="stage_bar">
                        <li class="">
                            <p class="txt_medium txt_gray_cc">Seedling</h5>
                            <p class="circle"></p>
                        </li>
                        <li class="">
                            <p class="txt_medium txt_gray_cc">Growing</h5>
                            <p class="circle"></p>
                        </li>
                        <li class="">
                            <p class="txt_medium txt_gray_cc">Maturing</h5>
                            <p class="circle"></p>
                        </li>
                        <li class="">
                            <p class="txt_medium txt_gray_cc">Hervest</h5>
                            <p class="circle"></p>
                        </li>
                    </ul>
                    <div class="bottom_ul_box">
                        <ul class="bottom_ul clear">
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                            <li class="fl"></li>
                        </ul>
                        <p style="width: 55%;" id="stage_colorline"></p>
                        <h6 class=" txt_gray66">20 Days left</h6>
                    </div>
                </div>
            </div>
            <div class="inner_box light_box">
                <h2 class="title bold">Light<img src={% static "images/img_sun.png" %} alt="sun image" class="lm3"></h2>
                <table class="tm27">
                    <caption>Light table</caption>
                    <colgroup>
                        <col style="width: 25%;">
                        <col style="width: 25%;">
                        <col style="width: 25%;">
                        <col style="width: 25%;">
                    </colgroup>
                    <thead>
                        <tr>
                            <th class="txt_medium">Status</th>
                            <th class="txt_medium">Lux</th>
                            <th class="txt_medium">Hour/Day</th>
                            <th class="txt_medium">End time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="">ON</td>
                            <td class="">20000</td>
                            <td class="">{{ grow_param.light_hr }}</td>
                            <td class="">7 PM</td>
                        </tr>
                    </tbody>
                </table>
                <div class="tm20">
                    <div class="title_box">
                        <p class="txt_gray66">Daily progress</p>
                        <h5 class="bold txt_15">80%</h5>
                    </div>
                    <div class="bar_box">
                        <p class="bar" style="width:10%"></p>
                    </div>
                </div>
            </div>
            <div class="inner_box camera_box">
                <div class="clear">
                    <h2 class="title bold fl">Camera</h2>
                    <div class="fr toggle_box tx_c">
                        <label for="camera_toggle" class="toggle_btn">
                            <input type="checkbox" class="appearance dn" id="camera_toggle">
                            <span class="slider round"></span>
                        </label>
                        <p class="txt_gray88" style="display: none;">ON</p>
                        <p class="txt_gray88">OFF</p>
                    </div>
                </div>
                <div class="img_box"></div>
            </div>

            <button type="button" onclick="location.href='/twitter/post?farmid={{ farm.id }}'" class="share_btn">

                <img src={% static "images/ic_sharing.png" %} alt="sharing icon" class="fl">
                <span class=" fr">Share farm status</span>
            </button>
        </div>
    </div>

    <script>
        let life_stage_list = ['Seed Planting', 'Germination', 'Seedling', 'Growth', 'Hervest'];
        let line_width_list = ['0%', '5%', '10%', '30%', '100%'];
        let stage_colorline = document.querySelector("#stage_colorline");
        let text_cursor = document.querySelector("#stage_bar").children;
        for (let i=0; i<life_stage_list.length; i++){
            if(life_stage_list[i] == "{{ plant.life_stage }}"){
                stage_colorline.style.width = line_width_list[i];
                if (i < 3) text_cursor[0].classList.add("on");
                else if(i == 3) text_cursor[1].classList.add("on");
                else text_cursor[3].classList.add("on");
            }
        }
    </script>
</body>
{% endblock %}