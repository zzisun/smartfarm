
{% extends 'base_noti.html' %}
{% load static %}
{% load socialaccount %}
{% block content %}
<body>

<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishian</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700&display=swap" rel="stylesheet">
    <link href="//db.onlinewebfonts.com/c/d4d6e1a6527a21185217393c427a52cb?family=Segoe+UI+Semibold" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="css/default.css">
    <script type="text/javascript" src="js/jquery-3.5.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
</head>
<body>-->

    <!-- header 
    <header class="header header_dash">
        <a href="javascript:;"><img src="images/ic_menu_on.png" alt="menu icon"></a>
        <a href="javascript:;" class="noti Segoe">Notification</a>
    </header> -->
    <!-- //header -->

    <!-- dash_wrap -->
    <div class="dash_wrap footer_on">
        <!-- top_box -->
        <div class="top_box">
            <div class="profile_box">

                <br>
                <br>
                <div class="img_box"></div>
                <p class="txt_18 txt_white txt_medium">{{ user.email }}</p>

            </div>
        </div>
        <!-- //top_box -->
        <div class="cont">
            <div class="inner_box tx_c weather_box">
                <div class="top_txt">
                    <p class="txt_12">9 APR</p>
                    <p class="txt_12">12:31 PM</p>
                </div>
                <h2 class="txt_15 bold txt_black11">Dhaka</h2>
                <p class="txt_12">Cloudy, light wind</p>
                <ul class="air_ul">
                    <li>
                        <h5 class="txt_12 txt_gray88 txt_medium">Temp</h5>
                        <p class="txt_12 txt_gray66">75˚</p>
                    </li>
                    <li>
                        <h5 class="txt_12 txt_gray88 txt_medium">Humidity</h5>
                        <p class="txt_12 txt_gray66">40%</p>
                    </li>
                    <li>
                        <h5 class="txt_12 txt_gray88 txt_medium">Cloud cover</h5>
                        <p class="txt_12 txt_gray66">85%</p>
                    </li>
                    <li>
                        <h5 class="txt_12 txt_gray88 txt_medium">Wind</h5>
                        <p class="txt_12 txt_gray66">11km/hr</p>
                    </li>
                </ul>
                <div class="graph"></div>
                <div class="clear tm6">
                    <p class="txt_12 fl">4 am</p>
                    <p class="txt_12 fr">4 pm</p>
                </div>
            </div>

            {% for farm, farm_param in farm_list.items %}
            <div class="inner_box garden_box">
                <h2 class="title bold">
                    <a href={% url 'device_management:status' farm.id %}>{{ farm.farm_name }}</a>
                </h2>
                {% if farm_param != None %}


                <ul class="clear">
                    <li class="fl">
                        <div class="graph_wrap">
                            <h4 class="txt_12 txt_black33 txt_medium bm7">Progress</h4>
                            <div class="bar_box">
                                <div class="bar" style="width:{{ farm_param.progress_date }}%"></div>
                            </div>
                            <p class="tx_c txt_12 txt_gray88 tm8">{{ farm_param.progress_date }} days to harvest !</p>

                        </div>
                        <ul class="air_ul">
                            <li>
                                <h5 class="txt_12 txt_gray88 txt_medium">Temp</h5>

                                <p class="txt_12 txt_gray66">{{ farm_param.temparature }}˚</p>
                            </li>
                            <li>
                                <h5 class="txt_12 txt_gray88 txt_medium">PH</h5>
                                <p class="txt_12 txt_gray66">{{ farm_param.ph }}</p>
                            </li>
                            <li>
                                <h5 class="txt_12 txt_gray88 txt_medium">EC</h5>
                                <p class="txt_12 txt_gray66">{{ farm_param.ec }}</p>

                            </li>
                        </ul>
                        <div class="graph_wrap">
                            <h4 class="txt_12 txt_black33 txt_medium bm7">LIGHT</h4>
                            <div class="bar_box">
                                <div class="bar bg_yellow" style="width:{{ farm_param.light_hr }}%"></div>
                            </div>
                            <p class="tx_c txt_12 txt_gray88 tm8">{{ farm_param.light_hr }} hr more</p>

                        </div>
                    </li>
                    <li class="fr">
                        <h4 class="txt_12 txt_black33 txt_medium bm10">Nutrient Level</h4>
                        <ul class="level_ul clear">
                            <li class="fl">
                                <h5 class="bold txt_gray88 txt_12">{{ farm_param.nutrientA }}%</h5>
                                <div class="bar_box">
                                    <div class="bar" style="height: {{ farm_param.nutrientA }}%"></div>
                                </div>
                                <p class="txt_gray88">A</p>
                            </li>
                            <li class="fl">
                                <h5 class="bold txt_gray88 txt_12">{{ farm_param.nutrientB }}%</h5>
                                <div class="bar_box">
                                    <div class="bar" style="height: {{ farm_param.nutrientB }}%"></div>
                                </div>
                                <p class="txt_gray88">B</p>
                            </li>
                            <li class="fl">
                                <h5 class="bold txt_gray88 txt_12">{{ farm_param.nutrientC }}%</h5>
                                <div class="bar_box">
                                    <div class="bar" style="height: {{ farm_param.nutrientC }}%;"></div>
                                </div>
                                <p class="txt_gray88">C</p>
                            </li>
                            <li class="fl">
                                <h5 class="bold txt_gray88 txt_12">{{ farm_param.nutrientD }}%</h5>
                                <div class="bar_box">
                                    <div class="bar" style="height: {{ farm_param.nutrientD }}%;"></div>
                                </div>
                                <p class="txt_gray88">D</p>
                            </li>
                        </ul>
                    </li>
                </ul>

                {% else %}
                    <br>
                    Parameters have not been delivered yet.
                    <br>
                {% endif %}
            </div>
            {% endfor %}
            <button type="button" onclick="location.href = '/device_management/device4'" class="add_new_btn">Add new farm</button>
        </div>
    </div>
    <!-- //dash_wrap -->
</body>
<script type="text/javascript">
    let light_bar = document.getElementsByClassName("bg_yellow")[0];
    let farm_param = "{{farm_param | escapejs}}";
    let light_length = farm_param.light_hr;
    let progress_length = farm_param.progress_date;
    progress_bar.style.width = light_length;
</script>

{% endblock %}

</html>

